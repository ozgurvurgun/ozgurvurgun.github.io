<!doctype html><html><head lang=en><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>@ozgurvurgun | NestJS Mimarisi: Controller Nedir? Ne Değildir? (5. Bölüm)</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Controller Nedir? NestJS&rsquo;te Controller, gelen HTTP isteklerini karşılayan yapıdır.
Yani dış dünyadan gelen tüm GET, POST, PUT, DELETE istekleri burada karşılanır.
Kısaca: Controller = API’nin giriş noktasıdır.
Router mı bu? Express kullanmış olanlar için şöyle bir benzetme yapalım:
// Express app.get('/users', handler); // NestJS @Controller('users') export class UserController { @Get() getAll() { return 'user listesi'; } } Arka planda aslında Express (veya Fastify) hala çalışıyor. Ama NestJS bunu sınıflar ve dekoratörlerle daha okunabilir ve organize bir hâle getiriyor."><meta property="og:image" content><meta property="og:title" content="NestJS Mimarisi: Controller Nedir? Ne Değildir? (5. Bölüm)"><meta property="og:description" content="Controller Nedir? NestJS&rsquo;te Controller, gelen HTTP isteklerini karşılayan yapıdır.
Yani dış dünyadan gelen tüm GET, POST, PUT, DELETE istekleri burada karşılanır.
Kısaca: Controller = API’nin giriş noktasıdır.
Router mı bu? Express kullanmış olanlar için şöyle bir benzetme yapalım:
// Express app.get('/users', handler); // NestJS @Controller('users') export class UserController { @Get() getAll() { return 'user listesi'; } } Arka planda aslında Express (veya Fastify) hala çalışıyor. Ama NestJS bunu sınıflar ve dekoratörlerle daha okunabilir ve organize bir hâle getiriyor."><meta property="og:type" content="article"><meta property="og:url" content="https://ozgurvurgun.github.io/nestjs/7-nestjs-mimarisi-temel-kavramlar-5/"><meta property="article:section" content="nestJS"><meta property="article:published_time" content="2025-07-29T00:00:00+00:00"><meta property="article:modified_time" content="2025-07-29T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="NestJS Mimarisi: Controller Nedir? Ne Değildir? (5. Bölüm)"><meta name=twitter:description content="Controller Nedir? NestJS&rsquo;te Controller, gelen HTTP isteklerini karşılayan yapıdır.
Yani dış dünyadan gelen tüm GET, POST, PUT, DELETE istekleri burada karşılanır.
Kısaca: Controller = API’nin giriş noktasıdır.
Router mı bu? Express kullanmış olanlar için şöyle bir benzetme yapalım:
// Express app.get('/users', handler); // NestJS @Controller('users') export class UserController { @Get() getAll() { return 'user listesi'; } } Arka planda aslında Express (veya Fastify) hala çalışıyor. Ama NestJS bunu sınıflar ve dekoratörlerle daha okunabilir ve organize bir hâle getiriyor."><script src=https://ozgurvurgun.github.io/js/feather.min.js></script>
<link href=https://ozgurvurgun.github.io/css/fonts.2c2227b81b1970a03e760aa2e6121cd01f87c88586803cbb282aa224720a765f.css rel=stylesheet><link rel=stylesheet type=text/css media=screen href=https://ozgurvurgun.github.io/css/main.6a0f23ea50fd34b46fee262a5a68e17d458c51a2bc99ba1ba018065de6b180c3.css><link id=darkModeStyle rel=stylesheet type=text/css href=https://ozgurvurgun.github.io/css/dark.50b57e12d401420df23965fed157368aba37b76df0ecefd0b1ecd4da664f01a0.css media="(prefers-color-scheme: dark)"><style>input[type=text],input[type=password]{font-size:16px!important;touch-action:manipulation}</style></head><body><div class=content><header><div class=main><a href=https://ozgurvurgun.github.io/>@ozgurvurgun</a></div><nav><a href=/>main</a>
<a href=/shorts>shorts</a>
<a href=/projects>projects</a>
<a href=/angular>angular</a>
<a href=/nestjs>nestJS</a>
<a href=/links>links</a>
<a href=/about>me</a></nav></header><main><article><div class=post-container><div class=post-content><div class=title><h1 class=title>NestJS Mimarisi: Controller Nedir? Ne Değildir? (5. Bölüm)</h1><div class=meta>Posted on Jul 29, 2025</div></div><section class=body><h2 id=controller-nedir>Controller Nedir?</h2><p>NestJS&rsquo;te Controller, gelen HTTP isteklerini karşılayan yapıdır.<br>Yani dış dünyadan gelen tüm <code>GET</code>, <code>POST</code>, <code>PUT</code>, <code>DELETE</code> istekleri burada karşılanır.</p><blockquote><p>Kısaca: Controller = API’nin giriş noktasıdır.</p></blockquote><h2 id=router-mı-bu>Router mı bu?</h2><p>Express kullanmış olanlar için şöyle bir benzetme yapalım:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#75715e>// Express
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>app</span>.<span style=color:#a6e22e>get</span>(<span style=color:#e6db74>&#39;/users&#39;</span>, <span style=color:#a6e22e>handler</span>);
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#75715e>// NestJS
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>@Controller</span>(<span style=color:#e6db74>&#39;users&#39;</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>UserController</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>@Get</span>()
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>getAll() {</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#39;user listesi&#39;</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Arka planda aslında Express (veya Fastify) hala çalışıyor.
Ama NestJS bunu sınıflar ve dekoratörlerle daha okunabilir ve organize bir hâle getiriyor.</p><h2 id=temel-yapı>Temel Yapı</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#66d9ef>@Controller</span>(<span style=color:#e6db74>&#39;users&#39;</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>UserController</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>@Get</span>()
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>getUsers() {</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#39;Tüm kullanıcılar listelendi&#39;</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>@Post</span>()
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>createUser() {</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#39;Yeni kullanıcı oluşturuldu&#39;</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Burada:</p><table><thead><tr><th>Dekoratör</th><th>Anlamı</th></tr></thead><tbody><tr><td><code>@Controller()</code></td><td>Bu sınıf bir controller</td></tr><tr><td><code>@Get()</code></td><td>GET isteğini karşılar</td></tr><tr><td><code>@Post()</code></td><td>POST isteğini karşılar</td></tr></tbody></table><p>Yani tarayıcıdan <code>/users</code> GET isteği gelirse <code>getUsers()</code> çalışır.</p><h2 id=parametre-almak>Parametre Almak</h2><p>Controller’ın güzelliği, parametreleri doğrudan fonksiyon içine alabilmendir.</p><ol><li>Route Parametresi (/users/:id):</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#66d9ef>@Get</span>(<span style=color:#e6db74>&#39;:id&#39;</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>getUser</span>(<span style=color:#66d9ef>@Param</span>(<span style=color:#e6db74>&#39;id&#39;</span>) <span style=color:#a6e22e>id</span>: <span style=color:#66d9ef>string</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#e6db74>`Kullanıcı ID: </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>id</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ol start=2><li>Query Parametresi (/users?active=true):</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#66d9ef>@Get</span>()
</span></span><span style=display:flex><span><span style=color:#a6e22e>filterUsers</span>(<span style=color:#66d9ef>@Query</span>(<span style=color:#e6db74>&#39;active&#39;</span>) <span style=color:#a6e22e>isActive</span>: <span style=color:#66d9ef>string</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#e6db74>`Aktif kullanıcılar: </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>isActive</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ol start=3><li>Body Parametresi (POST için):</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#66d9ef>@Post</span>()
</span></span><span style=display:flex><span><span style=color:#a6e22e>create</span>(<span style=color:#66d9ef>@Body</span>() <span style=color:#a6e22e>userData</span>: <span style=color:#66d9ef>any</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>userData</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><blockquote><p><code>@Param</code> <code>@Query</code> <code>@Body</code> <code>@Headers</code> <code>@Req</code> <code>@Res</code> gibi birçok decorator var. Her biri istekten belirli bir parçayı çeker.</p></blockquote><h2 id=controller---service-ilişkisi>Controller - Service İlişkisi</h2><p>Controller, business logic içermez. Sadece gelen isteği alır, ilgili servise yönlendirir.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#66d9ef>@Controller</span>(<span style=color:#e6db74>&#39;users&#39;</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>UserController</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>constructor</span>(<span style=color:#66d9ef>private</span> <span style=color:#a6e22e>userService</span>: <span style=color:#66d9ef>UserService</span>) {}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>@Get</span>()
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>getAll() {</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>userService</span>.<span style=color:#a6e22e>findAll</span>();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Yani Controller sadece aracıdır. Gerçek işi Service yapar.</p><h2 id=anti-pattern-controller-içine-tüm-mantığı-yazmak>Anti-Pattern: Controller içine tüm mantığı yazmak</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#66d9ef>@Get</span>()
</span></span><span style=display:flex><span><span style=color:#a6e22e>getAll() {</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>users</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>readFileSync</span>(<span style=color:#e6db74>&#39;db.json&#39;</span>); <span style=color:#75715e>// olmaz
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>JSON</span>.<span style=color:#a6e22e>parse</span>(<span style=color:#a6e22e>users</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Bu kod çalışır ama kötü bir pratik. Çünkü:</p><ul><li>Test edilemez hale gelir</li><li>Diğer modüller bu işlemi tekrar edemez</li><li>Kod tekrarına neden olur</li></ul><blockquote><p>Bunun yerine: mantığı <code>UserService</code> içine yaz, Controller sadece çağırıcı olsun.</p></blockquote><h2 id=best-practice-önerileri>Best Practice Önerileri</h2><table><thead><tr><th>Yapılacak Şey</th><th>Neden?</th></tr></thead><tbody><tr><td>Servis çağrısı yap</td><td>Kodun test edilebilirliğini artırır</td></tr><tr><td>Parametreleri dekoratörle al</td><td>Daha sade ve okunabilir olur</td></tr><tr><td>HttpException fırlatmayı öğren</td><td>Standart hata yapısı oturur (<code>NotFoundException</code>, <code>BadRequestException</code> vs.)</td></tr><tr><td>Controller&rsquo;ı küçük tut</td><td>Sadece yönlendirme yapsın</td></tr></tbody></table><h2 id=bonus-custom-route-prefix>Bonus: Custom Route Prefix</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#66d9ef>@Controller</span>({ <span style=color:#a6e22e>path</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;users&#39;</span>, <span style=color:#a6e22e>version</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;1&#39;</span> })
</span></span></code></pre></div><p>Bu şekilde versiyonlama yapabilir, API’nizi daha profesyonel hale getirebilirsin.</p><h2 id=eksikkarmaşık-yönler>Eksik/Karmaşık Yönler</h2><ul><li>NestJS dıştan çok sihirli görünür: ama Express çalışır, next() mantığı arka planda hala geçerli.</li><li><code>@Res()</code> kullanımı Express bağımlılığı yaratır, bu yüzden return ile response dönmek daha Nest-native bir yaklaşımdır.</li><li>Exception handling’i <code>Controller</code> değil <code>Filter</code> ve <code>Pipe</code> gibi yapılara yaymak gerekir (ileride değineceğiz)</li></ul><h2 id=özet>Özet</h2><ul><li>Controller = dış dünyadan gelen HTTP isteklerini karşılayan yapıdır</li><li><code>@Controller</code>, <code>@Get</code>, <code>@Post</code> gibi decorator’larla yönetilir
Parametreler <code>@Param</code>, <code>@Body</code>, <code>@Query</code> gibi decorator’larla alınır</li><li>Controller logic içermez, sadece yönlendiricidir</li><li>İşin gerçek mantığı Service’e bırakılmalıdır</li></ul></section><div class=post-tags></div></div></div></article></main><footer><div style=display:flex><a class=soc href=https://github.com/ozgurvurgun rel=me title=GitHub><i data-feather=github></i></a>
<a class=border></a><a class=soc href=https://linkedin.com/in/ozgurvurgun1 rel=me title=Linkedin><i data-feather=linkedin></i></a>
<a class=border></a><a class=soc href=http://emre.xyz/me.vcf rel=me title=VCF><i data-feather=phone></i></a>
<a class=border></a><a class=soc href=http://emre.xyz/resume.pdf rel=me title=Resume><i data-feather=file-text></i></a>
<a class=border></a></div><div class=footer-info>2025 ozgurvurgun</div></footer><script>feather.replace()</script><script src=https://cdn.jsdelivr.net/npm/crypto-js@4.1.1/crypto-js.min.js></script>
<script>const keyInput=document.getElementById("key"),contentEl=document.getElementById("content"),encryptedText=contentEl.textContent.trim();keyInput.addEventListener("input",()=>{const e=keyInput.value.trim();if(!e){contentEl.textContent=encryptedText;return}try{const n=CryptoJS.AES.decrypt(encryptedText,e),t=n.toString(CryptoJS.enc.Utf8);if(!t)throw new Error("Çözülemedi");contentEl.textContent=t}catch{contentEl.textContent=encryptedText}})</script></div></body></html>