<!doctype html><html><head lang=en><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>@ozgurvurgun | NestJS Mimarisi: Global Modüller ve Kullanım Senaryoları (4. Bölüm)</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Global Modül Nedir? NestJS&rsquo;te bir modül normalde sadece import edildiği yerde kullanılır.
Yani UserModule içinde tanımlı bir UserService, sadece onu import eden modüller tarafından erişilebilir.
Ama bazı modüller vardır ki:
“Beni her yerden erişilebilir yap” demek ister.
İşte bu tür modüller için global modül kavramı vardır.
Nasıl Tanımlanır? Bir modülü global yapmak için @Global() dekoratörünü kullanırız.
// logger.module.ts @Global() @Module({ providers: [LoggerService], exports: [LoggerService], }) export class LoggerModule {} Artık bu modülü AppModule&lsquo;de bir kez import etmek yeterlidir:"><meta property="og:image" content><meta property="og:title" content="NestJS Mimarisi: Global Modüller ve Kullanım Senaryoları (4. Bölüm)"><meta property="og:description" content="Global Modül Nedir? NestJS&rsquo;te bir modül normalde sadece import edildiği yerde kullanılır.
Yani UserModule içinde tanımlı bir UserService, sadece onu import eden modüller tarafından erişilebilir.
Ama bazı modüller vardır ki:
“Beni her yerden erişilebilir yap” demek ister.
İşte bu tür modüller için global modül kavramı vardır.
Nasıl Tanımlanır? Bir modülü global yapmak için @Global() dekoratörünü kullanırız.
// logger.module.ts @Global() @Module({ providers: [LoggerService], exports: [LoggerService], }) export class LoggerModule {} Artık bu modülü AppModule&lsquo;de bir kez import etmek yeterlidir:"><meta property="og:type" content="article"><meta property="og:url" content="https://ozgurvurgun.github.io/nestjs/6-nestjs-mimarisi-temel-kavramlar-4/"><meta property="article:section" content="nestJS"><meta property="article:published_time" content="2025-07-29T00:00:00+00:00"><meta property="article:modified_time" content="2025-07-29T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="NestJS Mimarisi: Global Modüller ve Kullanım Senaryoları (4. Bölüm)"><meta name=twitter:description content="Global Modül Nedir? NestJS&rsquo;te bir modül normalde sadece import edildiği yerde kullanılır.
Yani UserModule içinde tanımlı bir UserService, sadece onu import eden modüller tarafından erişilebilir.
Ama bazı modüller vardır ki:
“Beni her yerden erişilebilir yap” demek ister.
İşte bu tür modüller için global modül kavramı vardır.
Nasıl Tanımlanır? Bir modülü global yapmak için @Global() dekoratörünü kullanırız.
// logger.module.ts @Global() @Module({ providers: [LoggerService], exports: [LoggerService], }) export class LoggerModule {} Artık bu modülü AppModule&lsquo;de bir kez import etmek yeterlidir:"><script src=https://ozgurvurgun.github.io/js/feather.min.js></script>
<link href=https://ozgurvurgun.github.io/css/fonts.2c2227b81b1970a03e760aa2e6121cd01f87c88586803cbb282aa224720a765f.css rel=stylesheet><link rel=stylesheet type=text/css media=screen href=https://ozgurvurgun.github.io/css/main.6a0f23ea50fd34b46fee262a5a68e17d458c51a2bc99ba1ba018065de6b180c3.css><link id=darkModeStyle rel=stylesheet type=text/css href=https://ozgurvurgun.github.io/css/dark.50b57e12d401420df23965fed157368aba37b76df0ecefd0b1ecd4da664f01a0.css media="(prefers-color-scheme: dark)"><style>input[type=text],input[type=password]{font-size:16px!important;touch-action:manipulation}</style></head><body><div class=content><header><div class=main><a href=https://ozgurvurgun.github.io/>@ozgurvurgun</a></div><nav><a href=/>main</a>
<a href=/shorts>shorts</a>
<a href=/projects>projects</a>
<a href=/angular>angular</a>
<a href=/nestjs>nestJS</a>
<a href=/links>links</a>
<a href=/about>me</a></nav></header><main><article><div class=post-container><div class=post-content><div class=title><h1 class=title>NestJS Mimarisi: Global Modüller ve Kullanım Senaryoları (4. Bölüm)</h1><div class=meta>Posted on Jul 29, 2025</div></div><section class=body><h2 id=global-modül-nedir>Global Modül Nedir?</h2><p>NestJS&rsquo;te bir modül normalde sadece import edildiği yerde kullanılır.<br>Yani <code>UserModule</code> içinde tanımlı bir <code>UserService</code>, sadece onu import eden modüller tarafından erişilebilir.</p><p>Ama bazı modüller vardır ki:</p><blockquote><p>“Beni her yerden erişilebilir yap” demek ister.</p></blockquote><p>İşte bu tür modüller için <strong>global modül</strong> kavramı vardır.</p><h2 id=nasıl-tanımlanır>Nasıl Tanımlanır?</h2><p>Bir modülü global yapmak için <code>@Global()</code> dekoratörünü kullanırız.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#75715e>// logger.module.ts
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>@Global</span>()
</span></span><span style=display:flex><span><span style=color:#66d9ef>@Module</span>({
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>providers</span><span style=color:#f92672>:</span> [<span style=color:#a6e22e>LoggerService</span>],
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>exports</span><span style=color:#f92672>:</span> [<span style=color:#a6e22e>LoggerService</span>],
</span></span><span style=display:flex><span>})
</span></span><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>LoggerModule</span> {}
</span></span></code></pre></div><p>Artık bu modülü <code>AppModule</code>&lsquo;de bir kez import etmek yeterlidir:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#66d9ef>@Module</span>({
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>imports</span><span style=color:#f92672>:</span> [<span style=color:#a6e22e>LoggerModule</span>],
</span></span><span style=display:flex><span>})
</span></span><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>AppModule</span> {}
</span></span></code></pre></div><blockquote><p>Sonuç: LoggerService, başka hiçbir yerde LoggerModule&rsquo;ü import etmene gerek kalmadan her yerden erişilebilir hâle gelir.</p></blockquote><h2 id=nasıl-çalışır>Nasıl Çalışır?</h2><ul><li>Global olarak işaretlenen modüllerin provider’ları uygulama seviyesinde tek bir kez oluşturulur.</li><li>Bu nedenle bunlar singleton davranır.</li><li>NestJS iç dependency injection container’ında bu servisleri global scope’a koyar.</li></ul><h2 id=analoji>Analoji</h2><p>Global modülleri bir “ofis içi anons sistemi” gibi düşünebilirsin.</p><ul><li>Normalde her departman kendi asistanını kullanır.</li><li>Ama bazı duyurular merkezi sistemden yapılır: yangın alarmı, tatil bildirimi, vs.</li></ul><p>İşte global servisler böyle bir ortak bilgi kanalı gibi davranır.</p><h2 id=peki-ne-zaman-kullanılır>Peki Ne Zaman Kullanılır?</h2><table><thead><tr><th>Kullanım Durumu</th><th>Global Olmalı mı?</th></tr></thead><tbody><tr><td>Logging servisi</td><td>Evet</td></tr><tr><td>Config servisi (ortak ayarlar)</td><td>Evet</td></tr><tr><td>Cache servisi</td><td>Duruma göre</td></tr><tr><td>Database bağlantısı (singleton)</td><td>Dikkatle</td></tr><tr><td>UserService</td><td>Hayır</td></tr><tr><td>Domain&rsquo;e özgü özel servisler</td><td>Hayır</td></tr></tbody></table><blockquote><p>Özet: Cross-cutting concerns dediğimiz sistem geneli servislerde kullanılır: log, auth, config gibi.</p></blockquote><h2 id=neden-her-şey-global-yapılmamalı>Neden Her Şey Global Yapılmamalı?</h2><p>Bu çok kritik bir nokta.</p><ol><li><p>Test edilebilirlik düşer.
Test sırasında modüller izole edilemez hâle gelir.</p></li><li><p>Proje büyüdükçe bağımlılıklar belirsizleşir.
Hangi modül neye bağlı, neyi nerede override etmişsin belli olmaz.</p></li><li><p>Yanlışlıkla override edersen sistemin her yeri bozulabilir.
Bir modülü global tanımlayıp, başka yerde onun provider’ını tekrar tanımlarsan farkında olmadan sistemi etkileyebilirsin.</p></li></ol><h2 id=bir-anti-pattern-her-modülü-global-yapmak>Bir Anti-Pattern: Her Modülü Global Yapmak</h2><p>Şunu yapanlar var:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#66d9ef>@Global</span>()
</span></span><span style=display:flex><span><span style=color:#66d9ef>@Module</span>({ <span style=color:#a6e22e>providers</span><span style=color:#f92672>:</span> [<span style=color:#a6e22e>UserService</span>] })
</span></span><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>UserModule</span> {}
</span></span></code></pre></div><blockquote><p>&ldquo;Kolay erişilsin diye her şeyi global yaptım.&rdquo;
Hayır. Bu, dependency injection’ın ruhuna aykırıdır.</p></blockquote><p>Her modül, sadece kullanacağı servislere bağımlı olmalı.
Tersine, her şeyi her yerden erişilebilir yapmak proje mimarisinin içinden geçer.</p><h2 id=alternatif-sharedmodule-yarı-global-kullanım>Alternatif: SharedModule (Yarı-global kullanım)</h2><p>Eğer bazı servisleri birçok modül kullanacak ama global yapmak istemiyorsan <code>SharedModule</code> kalıbı iş görür.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#66d9ef>@Module</span>({
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>providers</span><span style=color:#f92672>:</span> [<span style=color:#a6e22e>CommonService</span>],
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>exports</span><span style=color:#f92672>:</span> [<span style=color:#a6e22e>CommonService</span>],
</span></span><span style=display:flex><span>})
</span></span><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>SharedModule</span> {}
</span></span></code></pre></div><p>Sonra hangi modülde gerekiyorsa oraya import edersin:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#66d9ef>@Module</span>({
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>imports</span><span style=color:#f92672>:</span> [<span style=color:#a6e22e>SharedModule</span>],
</span></span><span style=display:flex><span>})
</span></span><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>OrdersModule</span> {}
</span></span></code></pre></div><p>Bu sayede:</p><ul><li>Global kaos yaşamazsın</li><li>Hangi modül neyi kullandı şeffaf olur</li><li>Test yazmak daha kolay olur</li></ul><h2 id=özet>Özet</h2><ul><li><code>@Global()</code> -> Bir modülü tüm projeye tek seferde erişilebilir kılar
Singleton olarak davranır</li><li>Config, Logger gibi sistem düzeyi servisler için mantıklıdır</li><li>Ama domain-specific servislerde kullanmak mimariyi zayıflatır</li><li>Alternatif olarak <code>SharedModule</code> gibi çözümler önerilir</li></ul></section><div class=post-tags></div></div></div></article></main><footer><div style=display:flex><a class=soc href=https://github.com/ozgurvurgun rel=me title=GitHub><i data-feather=github></i></a>
<a class=border></a><a class=soc href=https://linkedin.com/in/ozgurvurgun1 rel=me title=Linkedin><i data-feather=linkedin></i></a>
<a class=border></a><a class=soc href=http://emre.xyz/me.vcf rel=me title=VCF><i data-feather=phone></i></a>
<a class=border></a><a class=soc href=http://emre.xyz/resume.pdf rel=me title=Resume><i data-feather=file-text></i></a>
<a class=border></a></div><div class=footer-info>2025 ozgurvurgun</div></footer><script>feather.replace()</script><script src=https://cdn.jsdelivr.net/npm/crypto-js@4.1.1/crypto-js.min.js></script>
<script>const keyInput=document.getElementById("key"),contentEl=document.getElementById("content"),encryptedText=contentEl.textContent.trim();keyInput.addEventListener("input",()=>{const e=keyInput.value.trim();if(!e){contentEl.textContent=encryptedText;return}try{const n=CryptoJS.AES.decrypt(encryptedText,e),t=n.toString(CryptoJS.enc.Utf8);if(!t)throw new Error("Çözülemedi");contentEl.textContent=t}catch{contentEl.textContent=encryptedText}})</script></div></body></html>