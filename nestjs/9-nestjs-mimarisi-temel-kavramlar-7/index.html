<!doctype html><html><head lang=en><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>@ozgurvurgun | NestJS Mimarisi: Status Code Yönetimi (7. Bölüm)</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="HTTP Status Code Nedir? Neden Önemlidir? Bir API sadece veri döndürmez.
Her cevabın bir anlamı olmalıdır. Bu anlamı taşıyan şey de status code&rsquo;tur.
return { message: 'Başarılı!' }; Bu cevap 200 OK ile gelir mi? 201 Created mi? Yoksa 400 Bad Request mi? İşte bu çok kritik. Çünkü:
Status code = İstemciye ne olduğunu anlatan işaret lambasıdır.
NestJS’te Status Code Nasıl Yönetilir? En sade yol: @HttpCode() dekoratörüdür.
@Post() @HttpCode(201) createUser() { return { message: 'Kullanıcı oluşturuldu' }; } Bu örnekte POST /users isteğine dönüş 201 Created olacaktır."><meta property="og:image" content><meta property="og:title" content="NestJS Mimarisi: Status Code Yönetimi (7. Bölüm)"><meta property="og:description" content="HTTP Status Code Nedir? Neden Önemlidir? Bir API sadece veri döndürmez.
Her cevabın bir anlamı olmalıdır. Bu anlamı taşıyan şey de status code&rsquo;tur.
return { message: 'Başarılı!' }; Bu cevap 200 OK ile gelir mi? 201 Created mi? Yoksa 400 Bad Request mi? İşte bu çok kritik. Çünkü:
Status code = İstemciye ne olduğunu anlatan işaret lambasıdır.
NestJS’te Status Code Nasıl Yönetilir? En sade yol: @HttpCode() dekoratörüdür.
@Post() @HttpCode(201) createUser() { return { message: 'Kullanıcı oluşturuldu' }; } Bu örnekte POST /users isteğine dönüş 201 Created olacaktır."><meta property="og:type" content="article"><meta property="og:url" content="https://ozgurvurgun.github.io/nestjs/9-nestjs-mimarisi-temel-kavramlar-7/"><meta property="article:section" content="nestJS"><meta property="article:published_time" content="2025-07-29T00:00:00+00:00"><meta property="article:modified_time" content="2025-07-29T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="NestJS Mimarisi: Status Code Yönetimi (7. Bölüm)"><meta name=twitter:description content="HTTP Status Code Nedir? Neden Önemlidir? Bir API sadece veri döndürmez.
Her cevabın bir anlamı olmalıdır. Bu anlamı taşıyan şey de status code&rsquo;tur.
return { message: 'Başarılı!' }; Bu cevap 200 OK ile gelir mi? 201 Created mi? Yoksa 400 Bad Request mi? İşte bu çok kritik. Çünkü:
Status code = İstemciye ne olduğunu anlatan işaret lambasıdır.
NestJS’te Status Code Nasıl Yönetilir? En sade yol: @HttpCode() dekoratörüdür.
@Post() @HttpCode(201) createUser() { return { message: 'Kullanıcı oluşturuldu' }; } Bu örnekte POST /users isteğine dönüş 201 Created olacaktır."><script src=https://ozgurvurgun.github.io/js/feather.min.js></script>
<link href=https://ozgurvurgun.github.io/css/fonts.2c2227b81b1970a03e760aa2e6121cd01f87c88586803cbb282aa224720a765f.css rel=stylesheet><link rel=stylesheet type=text/css media=screen href=https://ozgurvurgun.github.io/css/main.6a0f23ea50fd34b46fee262a5a68e17d458c51a2bc99ba1ba018065de6b180c3.css><link id=darkModeStyle rel=stylesheet type=text/css href=https://ozgurvurgun.github.io/css/dark.50b57e12d401420df23965fed157368aba37b76df0ecefd0b1ecd4da664f01a0.css media="(prefers-color-scheme: dark)"><style>input[type=text],input[type=password]{font-size:16px!important;touch-action:manipulation}</style></head><body><div class=content><header><div class=main><a href=https://ozgurvurgun.github.io/>@ozgurvurgun</a></div><nav><a href=/>main</a>
<a href=/shorts>shorts</a>
<a href=/projects>projects</a>
<a href=/angular>angular</a>
<a href=/nestjs>nestJS</a>
<a href=/links>links</a>
<a href=/about>me</a></nav></header><main><article><div class=post-container><div class=post-content><div class=title><h1 class=title>NestJS Mimarisi: Status Code Yönetimi (7. Bölüm)</h1><div class=meta>Posted on Jul 29, 2025</div></div><section class=body><h2 id=http-status-code-nedir-neden-önemlidir>HTTP Status Code Nedir? Neden Önemlidir?</h2><p>Bir API sadece veri döndürmez.<br>Her cevabın bir anlamı olmalıdır. Bu anlamı taşıyan şey de <strong>status code</strong>&rsquo;tur.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#66d9ef>return</span> { <span style=color:#a6e22e>message</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;Başarılı!&#39;</span> };
</span></span></code></pre></div><p>Bu cevap 200 OK ile gelir mi? 201 Created mi? Yoksa 400 Bad Request mi?
İşte bu çok kritik. Çünkü:</p><blockquote><p>Status code = İstemciye ne olduğunu anlatan işaret lambasıdır.</p></blockquote><h2 id=nestjste-status-code-nasıl-yönetilir>NestJS’te Status Code Nasıl Yönetilir?</h2><p>En sade yol: @HttpCode() dekoratörüdür.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#66d9ef>@Post</span>()
</span></span><span style=display:flex><span><span style=color:#66d9ef>@HttpCode</span>(<span style=color:#ae81ff>201</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>createUser() {</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> { <span style=color:#a6e22e>message</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;Kullanıcı oluşturuldu&#39;</span> };
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><blockquote><p>Bu örnekte <code>POST /users</code> isteğine dönüş <code>201 Created</code> olacaktır.</p></blockquote><p>Eğer yazmazsan, NestJS default olarak şu kuralları kullanır:</p><table><thead><tr><th>HTTP Metodu</th><th>Varsayılan Status</th></tr></thead><tbody><tr><td>GET</td><td>200 OK</td></tr><tr><td>POST</td><td>201 Created</td></tr><tr><td>DELETE</td><td>200 OK</td></tr><tr><td>PUT</td><td>200 OK</td></tr></tbody></table><h2 id=res-kullanıyorsan-ne-olur>@Res() Kullanıyorsan Ne Olur?</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#66d9ef>@Post</span>()
</span></span><span style=display:flex><span><span style=color:#a6e22e>create</span>(<span style=color:#66d9ef>@Res</span>() <span style=color:#a6e22e>res</span>: <span style=color:#66d9ef>Response</span>) {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>status</span>(<span style=color:#ae81ff>202</span>).<span style=color:#a6e22e>json</span>({ <span style=color:#a6e22e>message</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;Talep alındı&#39;</span> });
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Bu durumda tüm kontrol sende. Nest artık otomatik hiçbir şey yapmaz.
Yani bu durumda <code>@HttpCode()</code> çalışmaz.</p><h2 id=başka-ne-var-header-redirect>Başka Ne Var? @Header(), @Redirect()</h2><p><code>@Header()</code>: Header eklemek için</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#66d9ef>@Get</span>()
</span></span><span style=display:flex><span><span style=color:#66d9ef>@Header</span>(<span style=color:#e6db74>&#39;Cache-Control&#39;</span>, <span style=color:#e6db74>&#39;none&#39;</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>noCache() {</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#39;Cache yok&#39;</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><code>@Redirect()</code>: 3xx cevaplar için</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#66d9ef>@Get</span>(<span style=color:#e6db74>&#39;docs&#39;</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>@Redirect</span>(<span style=color:#e6db74>&#39;https://docs.site.com&#39;</span>, <span style=color:#ae81ff>302</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>goToDocs() {</span>}
</span></span></code></pre></div><blockquote><p><code>@Redirect()</code> olmadan da <code>res.redirect()</code> yapılabilir ama bu Nest-style değildir.</p></blockquote><h2 id=nestjste-hatalarda-status-code>NestJS’te Hatalarda Status Code</h2><p>NestJS’te hata fırlatmak için exception sınıfları vardır.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#66d9ef>@Get</span>(<span style=color:#e6db74>&#39;:id&#39;</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>getUser</span>(<span style=color:#66d9ef>@Param</span>(<span style=color:#e6db74>&#39;id&#39;</span>) <span style=color:#a6e22e>id</span>: <span style=color:#66d9ef>string</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>userExists</span>(<span style=color:#a6e22e>id</span>)) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>NotFoundException</span>(<span style=color:#e6db74>`Kullanıcı bulunamadı: </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>id</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>user</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Bu durumda otomatik olarak:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>Status: 404 Not Found
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>  &#34;statusCode&#34;: 404,
</span></span><span style=display:flex><span>  &#34;message&#34;: &#34;Kullanıcı bulunamadı: 5&#34;,
</span></span><span style=display:flex><span>  &#34;error&#34;: &#34;Not Found&#34;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><blockquote><p>NestJS içindeki <code>HttpException</code> sınıfı ile birlikte gelen <code>BadRequestException</code>, <code>UnauthorizedException</code>, <code>ForbiddenException</code>, <code>NotFoundException</code> gibi hazır sınıflar sayesinde status code + mesaj standardı korunur.</p></blockquote><h2 id=response-formatı-sabitlemek-için-ipucu>Response Formatı Sabitlemek İçin İpucu</h2><p>Eğer her cevabın belli bir yapıda olmasını istiyorsan (<code>{ data, message, statusCode }</code> gibi), interceptor kullanabilirsin.
Ama bu ileri seviye konuya <code>Interceptor</code> başlığında değineceğiz.</p><h2 id=yaygın-hatalar>Yaygın Hatalar</h2><ul><li><code>@HttpCode()</code> ile <code>@Res()</code> aynı anda kullanmak (çalışmaz)</li><li>GET metodundan <code>201</code> döndürmek (yanlış anlam yaratır)</li><li>Hata fırlatmak yerine <code>return { error: '...' }</code> yapmak (status code 200 döner - yanıltıcı)</li><li>204 No Content döndürüp JSON body göndermek (204’te body olmamalı)</li></ul><h2 id=status-codelar-bir-apinin-beden-dili-gibidir>Status Code’lar, Bir API&rsquo;nin &ldquo;beden dili&rdquo; Gibidir.</h2><ul><li>200 -> her şey yolunda</li><li>201 -> yeni bir şey doğdu</li><li>400 -> sen bir hata yaptın</li><li>401 -> kimliğini tanımıyorum</li><li>403 -> seni tanıyorum ama yetkin yok</li><li>404 -> böyle biri yok</li><li>500 -> ben de ne olduğunu bilmiyorum :d</li></ul><h2 id=özet>Özet</h2><ul><li><code>@HttpCode()</code> ile manuel status belirlenebilir</li><li><code>@Res()</code> kullanıyorsan, kodu da sen yazmalısın</li><li><code>@Redirect()</code> ve <code>@Header()</code> özel durumlar için idealdir</li><li>Hatalar <code>HttpException</code> sınıflarıyla fırlatılmalı</li><li>Status code, client tarafında doğru davranış için kritik bilgi taşıyıcısıdı</li></ul></section><div class=post-tags></div></div></div></article></main><footer><div style=display:flex><a class=soc href=https://github.com/ozgurvurgun rel=me title=GitHub><i data-feather=github></i></a>
<a class=border></a><a class=soc href=https://linkedin.com/in/ozgurvurgun1 rel=me title=Linkedin><i data-feather=linkedin></i></a>
<a class=border></a><a class=soc href=http://emre.xyz/me.vcf rel=me title=VCF><i data-feather=phone></i></a>
<a class=border></a><a class=soc href=http://emre.xyz/resume.pdf rel=me title=Resume><i data-feather=file-text></i></a>
<a class=border></a></div><div class=footer-info>2025 ozgurvurgun</div></footer><script>feather.replace()</script><script src=https://cdn.jsdelivr.net/npm/crypto-js@4.1.1/crypto-js.min.js></script>
<script>const keyInput=document.getElementById("key"),contentEl=document.getElementById("content"),encryptedText=contentEl.textContent.trim();keyInput.addEventListener("input",()=>{const e=keyInput.value.trim();if(!e){contentEl.textContent=encryptedText;return}try{const n=CryptoJS.AES.decrypt(encryptedText,e),t=n.toString(CryptoJS.enc.Utf8);if(!t)throw new Error("Çözülemedi");contentEl.textContent=t}catch{contentEl.textContent=encryptedText}})</script></div></body></html>