<!doctype html><html><head lang=en><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>Unix girdi cikti yonlendirme - @ozgurvurgun</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Bir önceki yazıda belirttiğim unix türevi sistemlerde efektif çalışma konusunun bir tık ilerisine girdi-çıktı yönlendirme konusunu koyabiliriz. Bahsettiğimiz pipe(|) işlemi aslında bir girdi-çıktı yönlendirme operatörüdür. Önce terminalde girdi-çıktı türlerine bakıp nasıl ve neden yönlendirebiliriz bir görelim."><meta property="og:image" content><meta property="og:title" content="Unix girdi cikti yonlendirme"><meta property="og:description" content="Bir önceki yazıda belirttiğim unix türevi sistemlerde efektif çalışma konusunun bir tık ilerisine girdi-çıktı yönlendirme konusunu koyabiliriz. Bahsettiğimiz pipe(|) işlemi aslında bir girdi-çıktı yönlendirme operatörüdür. Önce terminalde girdi-çıktı türlerine bakıp nasıl ve neden yönlendirebiliriz bir görelim."><meta property="og:type" content="article"><meta property="og:url" content="https://ozgurvurgun.github.io/posts/unix-girdi-cikti-yonlendirme/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-09-23T00:00:00+00:00"><meta property="article:modified_time" content="2019-09-23T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Unix girdi cikti yonlendirme"><meta name=twitter:description content="Bir önceki yazıda belirttiğim unix türevi sistemlerde efektif çalışma konusunun bir tık ilerisine girdi-çıktı yönlendirme konusunu koyabiliriz. Bahsettiğimiz pipe(|) işlemi aslında bir girdi-çıktı yönlendirme operatörüdür. Önce terminalde girdi-çıktı türlerine bakıp nasıl ve neden yönlendirebiliriz bir görelim."><script src=https://ozgurvurgun.github.io/js/feather.min.js></script>
<link href=https://ozgurvurgun.github.io/css/fonts.2c2227b81b1970a03e760aa2e6121cd01f87c88586803cbb282aa224720a765f.css rel=stylesheet><link rel=stylesheet type=text/css media=screen href=https://ozgurvurgun.github.io/css/main.6a0f23ea50fd34b46fee262a5a68e17d458c51a2bc99ba1ba018065de6b180c3.css><link id=darkModeStyle rel=stylesheet type=text/css href=https://ozgurvurgun.github.io/css/dark.50b57e12d401420df23965fed157368aba37b76df0ecefd0b1ecd4da664f01a0.css media="(prefers-color-scheme: dark)"><script async src="https://www.googletagmanager.com/gtag/js?id=G-VLZVJMKPNJ"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-VLZVJMKPNJ")</script></head><body><div class=content><header><div class=main><a href=https://ozgurvurgun.github.io/>@ozgurvurgun</a></div><nav><a href=/>main</a>
<a href=https://gist.github.com/ozgurvurgun>gist</a>
<a href=/about>me</a>
<a href=/subscribe>subscribe</a></nav></header><main><article><div class=post-container><div class=post-content><div class=title><h1 class=title>Unix girdi cikti yonlendirme</h1><div class=meta>Posted on Sep 23, 2019</div></div><section class=body><p>Bir önceki yazıda belirttiğim unix türevi sistemlerde efektif çalışma konusunun bir tık ilerisine girdi-çıktı yönlendirme konusunu koyabiliriz. Bahsettiğimiz pipe(|) işlemi aslında bir girdi-çıktı yönlendirme operatörüdür. Önce terminalde girdi-çıktı türlerine bakıp nasıl ve neden yönlendirebiliriz bir görelim.</p><p>İlk bilmeniz gereken şey unix türevi sistemler üzerinde bulunan her şeyin birer dosya olduğudur. Tüm klasörler, linkler, cihaz bağlantıları vs birer dosyadır. Harddisk bir dosyadır, webcam bir dosyadır, ses kartı bir dosyadır.</p><p>Her dosyanın ne olduğunu belirten bir <code>file descriptor</code> olarak ifade edilen tanımlayıcısı vardır. Pozitif sayılardan oluşabilen bu değer dosyanın ne olduğunu belirtir. 3 adet standart file descriptor mevcuttur. 0,1,2 olarak belirtilmiş sayılar sırasıyla stdin, stdout, stderr olarak belirlenmiştir. 0 dosyanın (herşey dosya olduğu için girdi ve çıktılar da dosyadır) standart bir girdi olduğunu, 1 dosyanın standart çıktı olduğunu, 2 ise dosyanın standart hata olduğunu gösterir.</p><p>Yani biz <code>cat</code> komutunu parametre vermeden çalıştırdığımızda sonuç olarak <code>stdin</code> türünde bir dosyamız oluyor. Standart girdi türü haliyle bizim veri girmemizi bekliyor.</p><p>Eğer <code>echo "xyz"</code> komutunu çalıştırırsak <code>stdout</code> türünde bir dosya üretmiş oluyoruz. Ekrana <code>xyz</code> basmış oluyor.</p><p>Son olarak <code>ls /xyz</code> komutunu çalıştırdığımızda ise <code>stderr</code> türünde bir dosya üretmiş oluyoruz ve ekrana hata basılıyor.</p><p>Geçen yazıda gördüğümüz pipe üzerinden basit bir örnek yapabiliriz. <code>ls /var/log/syslog</code> ve <code>sed "s/syslog/xyz/"</code> komutlarını birleştirerek ufak bir işlem yaparsak sonuç olarak ekranda <code>/var/log/xyz</code> çıktısını göreceğiz.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>$ ls /var/log/syslog|sed &#34;s/syslog/xyz/&#34;
</span></span><span style=display:flex><span>/var/log/xyz
</span></span></code></pre></div><p>Pipelining bu kadardı zaten. Bir çıktıyı al diğer uygulamaya girdi olarak ver. Fakat eğer <code>ls /var/log/emre.xyz|sed "s/syslog/xyz/"</code> komut çalıştırırsak ne olur? Hata verecek ve <code>sed</code> komutu çalışmayacak değil mi? Hayır, <code>sed</code> komutumuz her durumda çalışacak. Çünkü mantıksal bir işlem yapmıyoruz. Peki o zaman, <code>sed</code> komutu çalışıyor ise, hata mesajındaki bir şeyi değiştirebilir miyiz?</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>ls /var/log/emre.xyz|sed &#34;s/syslog/xyz/&#34;
</span></span><span style=display:flex><span>ls: cannot access &#39;/var/log/emre.xyz&#39;: No such file or directory
</span></span></code></pre></div><p>Hata mesajımızdaki cannot kısmını değiştirmek isteyelim örneğin. <code>ls /var/log/emre.xyz|sed "s/cannot/xyz/"</code> komutunu çalıştırmamız gerekecek.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>ls /var/log/emre.xyz|sed &#34;s/cannot/xyz/&#34;
</span></span><span style=display:flex><span>ls: cannot access &#39;/var/log/emre.xyz&#39;: No such file or directory
</span></span></code></pre></div><p>Fakat o da ne? <code>sed</code> hata mesajını görmüyor. Çünkü <code>sed</code> in beklediği şey <code>stdout</code> fakat ekrandaki hata mesajı <code>stderr</code> türünde. Bu sebeple <code>sed</code> bu mesajı görmezden gelecek.</p><p>Peki nasıl yapacağız? İşte konumuza geldik. Bir türü diğerine yönlendirmemiz gerekecek.</p><p>Daha mantıklı bir senaryoda ise, yaptığınız tüm işlemlerin sonucunu bir dosyaya yazmak isteyebilirsiniz. Hata mesajını ya da başarılı işlemleri bir yere yazabilmek için de yine çıktı yönlendirme yapmanız gerekecek.</p><p>Girdi - çıktı yönlendirme yapabilmek için kullanabileceğiz 6 adet operatör mevcut. Tabi ki sadece 6 tane değil. Ancak biz 6 tanesinden bahsedeceğiz sık kullanılabilecek olanlar olarak. Hepsini hızlıca birer örnek ile göreceğiz. <code>></code>,<code>&lt;</code>,<code>>></code>,<code>&lt;&lt;</code>,<code>&lt;&</code>,<code>|</code> olmak üzere 6 adet operatör mevcut.</p><h3 id=şuraya-gönder-operatörü->Şuraya gönder operatörü ></h3><p><code>echo "hello world" > dosya.md</code> şeklinde kullanılıyor. Sol taraftan gelen <code>stdout</code> çıktısını <code>dosya.md</code> adında bir dosyaya yönlendiriyor. <code>stdout</code> bekleyen her yere yönlendirme yapabilirsiniz.</p><h3 id=şuradan-al-operatörü->Şuradan al operatörü &lt;</h3><p><code>grep "awesome" &lt; ls *.aww</code> şeklinde kullanılıyor. Sağ taraftan gelen <code>stdout</code> verisini sol tarafa parametre olarak yönlendiriyor.</p><h3 id=şuraya-göm-operatörü->Şuraya göm operatörü &#187;</h3><p><code>echo "hello" >> msgs.md</code> şeklinde kullanılıyor. Sol taraftaki çıktıyı sağ taraftaki dosyaya ekliyor. <code>></code> tüm çıktıyı eski veri var ise üzerine yazarken <code>>></code> üzerine yazmak yerine eski verinin yanına ilişitiriveriyor.</p><h3 id=şuradan-getir-operatörü->Şuradan getir operatörü &#171;</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>grep &#39;dene&#39; &lt;&lt; MSG
</span></span><span style=display:flex><span>&gt; deneme
</span></span><span style=display:flex><span>&gt; dene
</span></span><span style=display:flex><span>&gt; densiz
</span></span><span style=display:flex><span>&gt; MSG
</span></span></code></pre></div><p>Şeklinde kullanılıyor. <code>stdin</code> kaynağına yönlendirmeyi sağlıyor. Operatörden sonra verilen kelimeyi görene kadar <code>stdin</code> sizden veri bekliyor, kelimeyi gördüğünde işleme başlıyor. Bu operatör en çok <code>bash</code> dosyaları yazarken işinize yarayacaktır.</p><h3 id=şunla-birleştir-operatörü->Şunla birleştir operatörü >&</h3><p><code>ls / 1>&amp;2 |sed 's/bin/can/'</code> şeklinde kullanılıyor. Normalde <code>stdout</code> olarak verilen çıktıyı <code>stderr</code> olarak çeviriyor. Bunu hata verse de <code>stdout</code> olarak işlemek istediğiniz yerlerde kullanabilirsiniz. Yukarıda bahsettiğimiz <code>ls /var/log/emre.xyz|sed "s/syslog/xyz/"</code> komutundan dönen hata mesajını artık şu şekilde kullanabiliriz.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>ls /var/log/emre.xyz 2&gt;&amp;1|sed &#34;s/cannot/xyz/&#34;
</span></span><span style=display:flex><span>ls: xyz access &#39;/var/log/emre.xyz&#39;: No such file or directory
</span></span></code></pre></div><h3 id=şundan-al-buna-ver->Şundan al buna ver |</h3><p>Bunun üzerinden tekrar geçmeyeceğim. Sol taraftaki <code>stdout</code> u al sağ tarafa <code>stdin</code> olarak ver işlemi için kullanabileceğinizi zaten biliyorsunuz.</p></section><div class=post-tags></div></div></div></article></main><footer><div style=display:flex><a class=soc href=https://github.com/ozgurvurgun rel=me title=GitHub><i data-feather=github></i></a>
<a class=border></a><a class=soc href=https://linkedin.com/in/ozgurvurgun1 rel=me title=Linkedin><i data-feather=linkedin></i></a>
<a class=border></a><a class=soc href=http://emre.xyz/me.vcf rel=me title=VCF><i data-feather=phone></i></a>
<a class=border></a><a class=soc href=http://emre.xyz/resume.pdf rel=me title=Resume><i data-feather=file-text></i></a>
<a class=border></a></div><div class=footer-info>2025 ozgurvurgun | <a href=https://github.com/athul/archie>Archie Theme</a> | Built with <a href=https://gohugo.io>Hugo</a></div></footer><script>feather.replace()</script></div></body></html>